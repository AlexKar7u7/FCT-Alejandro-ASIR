{% extends "base.html" %}

{% block title %}Temas del Foro{% endblock %}

{% block content %}
<h1 class="mb-4">Temas de la Comunidad</h1>


<div class="d-flex justify-content-between mb-4">
    <a href="{% url 'nuevo_tema' %}" class="btn">Crear Nuevo Tema</a>
</div>
<br>
<br>
<div class="temas-container">
    {% for tema in temas %}
        <div class="article-card mb-3">
            <h2><a href="{% url 'detalle_tema' tema.id %}" style="text-decoration: none;">{{ tema.titulo }}</a></h2>
            <p><small>Creado por: <strong>{{ tema.autor.username }}</strong> | {{ tema.fecha_creacion|date:"d/m/Y H:i" }} | Comentarios: {{ tema.comentarios.count }}</small></p>
            <p>{{ tema.contenido|truncatechars:150 }}</p>
            <a href="{% url 'detalle_tema' tema.id %}" class="btn">Ver tema ({{ tema.comentarios.count }} comentarios)</a>
        </div>
    {% empty %}
        <p>Aún no hay temas creados. ¡Sé el primero en crear uno!</p>
    {% endfor %}
</div>

<style>
    /* Estilo para temas, reutilizando la clase article-card */
    .temas-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
</style>
{% endblock %}